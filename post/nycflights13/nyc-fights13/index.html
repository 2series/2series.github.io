<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.2.5">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Rihad Variawa">

  
  
  
    
  
  <meta name="description" content="About the dataset In this analysis, we explore the dplyr functions used to ask interesting questions of a more complex dataset We’ll use a dataset of flights that departed from New York city airports (including Newark, John F. Kennedy, and Laguardia airports) in 2013. This dataset is also featured online in the Introduction to dplyr vignette, and is drawn from the Bureau of Transportation Statistics database.
This dataset will use over 300,000 observations to ask the following questions:">

  
  <link rel="alternate" hreflang="en-us" href="../../../post/nycflights13/nyc-fights13/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="../../../styles.css">
  

  
  
  

  

  <link rel="manifest" href="../../../site.webmanifest">
  <link rel="icon" type="image/png" href="../../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../img/icon-192.png">

  <link rel="canonical" href="../../../post/nycflights13/nyc-fights13/">

  
  
  
  
    
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Rihad Variawa">
  <meta property="og:url" content="/post/nycflights13/nyc-fights13/">
  <meta property="og:title" content="NYC_Fights13 | Rihad Variawa">
  <meta property="og:description" content="About the dataset In this analysis, we explore the dplyr functions used to ask interesting questions of a more complex dataset We’ll use a dataset of flights that departed from New York city airports (including Newark, John F. Kennedy, and Laguardia airports) in 2013. This dataset is also featured online in the Introduction to dplyr vignette, and is drawn from the Bureau of Transportation Statistics database.
This dataset will use over 300,000 observations to ask the following questions:"><meta property="og:image" content="/img/headers/im.jpg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-03-27T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2019-03-27T00:00:00&#43;00:00">
  

  

  

  <title>NYC_Fights13 | Rihad Variawa</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="../../../">Rihad Variawa</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#featured">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../resume.pdf">
            
            <span>Resume</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  









<div class="article-header">
  
  
  <img src="../../../img/headers/im.jpg" class="article-banner" itemprop="image" alt="">
  

  
</div>




  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">NYC_Fights13</h1>

  

  
    



<meta content="2019-03-27 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2019-03-27 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Mar 27, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="../../../categories/r/">R</a>
    
  </span>
  
  

  
    

  

</div>

    
















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      


<div id="about-the-dataset" class="section level2">
<h2>About the dataset</h2>
<p>In this analysis, we explore the dplyr functions used to ask interesting questions of a more complex dataset We’ll use a dataset of flights that departed from New York city airports (including Newark, John F. Kennedy, and Laguardia airports) in 2013. This dataset is also featured online in the Introduction to dplyr vignette, and is drawn from the Bureau of Transportation Statistics database.</p>
<p>This dataset will use over 300,000 observations to ask the following questions:</p>
<ul>
<li>Which airline has the highest number of delayed departures?</li>
<li>On average, to which airport do flights arrive most early?</li>
<li>In which month do flights tend to have the longest delays?</li>
</ul>
<div id="get-to-know-the-dataframe" class="section level3">
<h3>get to know the dataframe</h3>
<pre class="r"><code>## check the number of rows/columns
dim(flights)</code></pre>
<pre><code>## [1] 336776     19</code></pre>
<pre class="r"><code>## inspect the column names
colnames(flights) </code></pre>
<pre><code>##  [1] &quot;year&quot;           &quot;month&quot;          &quot;day&quot;            &quot;dep_time&quot;      
##  [5] &quot;sched_dep_time&quot; &quot;dep_delay&quot;      &quot;arr_time&quot;       &quot;sched_arr_time&quot;
##  [9] &quot;arr_delay&quot;      &quot;carrier&quot;        &quot;flight&quot;         &quot;tailnum&quot;       
## [13] &quot;origin&quot;         &quot;dest&quot;           &quot;air_time&quot;       &quot;distance&quot;      
## [17] &quot;hour&quot;           &quot;minute&quot;         &quot;time_hour&quot;</code></pre>
</div>
<div id="identify-the-airline-carrier-that-has-the-highest-number-of-delayed-flights" class="section level3">
<h3>Identify the airline (<code>carrier</code>) that has the highest number of delayed flights</h3>
<pre class="r"><code>## start with the flights
has_most_delays &lt;- flights %&gt;%
  ## group by airline (carrier)
  group_by(carrier) %&gt;%                    
  ## find only the delays
  filter(dep_delay &gt; 0) %&gt;%               
  ## count the observations
  summarize(num_delay = n()) %&gt;%           
  ## find most delayed
  filter(num_delay == max(num_delay)) %&gt;%  
  ## select the airline
  select(carrier)                          </code></pre>
</div>
<div id="get-name-of-the-most-delayed-carrier" class="section level3">
<h3>Get name of the most delayed carrier</h3>
<pre class="r"><code>## start with the previous answer
most_delayed_name &lt;- has_most_delays %&gt;%   
  ## join on airline ID
  left_join(airlines, by = &quot;carrier&quot;) %&gt;%  
  ## select the airline name
  select(name)                             </code></pre>
<pre class="r"><code>## access the value from the tibble
print(most_delayed_name$name)</code></pre>
<pre><code>## [1] &quot;United Air Lines Inc.&quot;</code></pre>
</div>
<div id="calculate-the-average-arrival-delay-arr_delay-for-each-destination-dest" class="section level3">
<h3>Calculate the average arrival delay (<code>arr_delay</code>) for each destination (<code>dest</code>)</h3>
<pre class="r"><code>most_early &lt;- flights %&gt;%
  ## group by destination
  group_by(dest) %&gt;%                     
  ## compute mean delay
  summarize(delay = mean(arr_delay))     </code></pre>
</div>
<div id="compute-the-average-delay-by-destination-airport-omitting-na-results" class="section level3">
<h3># Compute the average delay by destination airport, omitting NA results</h3>
<pre class="r"><code>most_early &lt;- flights %&gt;%
  ## group by destination
  group_by(dest) %&gt;%                                 
  ## compute mean delay
  summarize(delay = mean(arr_delay, na.rm = TRUE))   </code></pre>
</div>
<div id="identify-the-destination-where-flights-on-average-arrive-most-early" class="section level3">
<h3>Identify the destination where flights, on average, arrive most early</h3>
<pre class="r"><code>most_early &lt;- flights %&gt;%
  ## group by destination
  group_by(dest) %&gt;%                                      
  ## compute mean delay, ignore NA
  summarize(delay = mean(arr_delay, na.rm = TRUE)) %&gt;%    
  ## filter for the *least* delayed
  filter(delay == min(delay, na.rm = TRUE)) %&gt;%           
  ## select the destination (and delay to store it)
  select(dest, delay) %&gt;%                                 
  ## join on `airports`dataframe
  left_join(airports, by = c(&quot;dest&quot; = &quot;faa&quot;)) %&gt;%         
  ## select output variables of interest
  select(dest, name, delay)                               </code></pre>
<pre class="r"><code>print(most_early)</code></pre>
<pre><code>## # A tibble: 1 x 3
##   dest  name       delay
##   &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
## 1 LEX   Blue Grass   -22</code></pre>
</div>
<div id="identify-the-month-in-which-flights-tend-to-have-the-longest-delays" class="section level3">
<h3>Identify the month in which flights tend to have the longest delays</h3>
<pre class="r"><code>flights %&gt;%
  ## group by selected feature
  group_by(month) %&gt;%                                      
  ## summarize value of interest
  summarize(delay = mean(arr_delay, na.rm = TRUE)) %&gt;%     
  ## filter for the record of interest
  filter(delay == max(delay)) %&gt;%                          
  ## select the column that answers the question
  select(month) %&gt;%                                        
  ## print the tibble out directly
  print()                                                  </code></pre>
<pre><code>## # A tibble: 1 x 1
##   month
##   &lt;int&gt;
## 1     7</code></pre>
</div>
<div id="compute-delay-by-month-adding-month-names-for-visual-display-note-month.name-is-a-variable-build-into-r" class="section level3">
<h3>Compute delay by month, adding month names for visual display, note ‘month.name’ is a variable build into R</h3>
<pre class="r"><code>delay_by_month &lt;- flights %&gt;%
  group_by(month) %&gt;%
  summarize(delay = mean(arr_delay, na.rm = TRUE)) %&gt;%
  select(delay) %&gt;%
  mutate(month = month.name)</code></pre>
</div>
<div id="create-a-plot-using-the-ggplot2-package" class="section level3">
<h3># Create a plot using the ggplot2 package</h3>
<pre class="r"><code>ggplot(data = delay_by_month) +
  geom_point(
    mapping = aes(x = delay, y = month), 
    color = &quot;blue&quot;,
    alpha = .4, 
    size = 3
    ) +
  geom_vline(xintercept = 0, size = .25) +
  xlim(c(-20, 20)) +
  scale_y_discrete(limits = rev(month.name)) +
  theme_classic() +
  labs(title = &quot;Average Delay by Month&quot;, y = &quot;&quot;, x = &quot;Delay (minutes)&quot;)</code></pre>
<p><img src="../../../post/nycflights13/2019-03-27-nyc-fights13_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</div>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="../../../tags/plot/">plot</a>
  
</div>




    
      






  







<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  
  <img class="portrait mr-3" src="../../../author/admin/avatar_hu52a603635ecebd45650b162dadabb4e5_12861_250x250_fill_q90_lanczos_center.jpg" itemprop="image" alt="Avatar">
  

  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="../../../authors/admin">Rihad Variawa</a></h5>
    <h6 class="card-subtitle">Data Scientist</h6>
    <p class="card-text" itemprop="description">Super Inquisitive &amp; Welcomes A Challenge.</p>
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="../../../#contact" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://twitter.com/2series_rv" target="_blank" rel="noopener">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/2series" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>



      
      
      <div class="article-widget">
        <div class="hr-light"></div>
        <h3>Related</h3>
        <ul>
          
          <li><a href="../../../post/mtcars/2019-01-03-r-rmarkdown/">mtcars Data Analysis</a></li>
          
        </ul>
      </div>
      
    

    

    


  </div>
</article>

<div class="container">
  <footer class="site-footer">
  
  <p class="powered-by">
    <a href="../../../privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="../../../js/academic.min.eeda67bb2d1f96265d85659d1edc7a5e.js"></script>

  </body>
</html>

