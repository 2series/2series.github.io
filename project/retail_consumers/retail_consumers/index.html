<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.2.5">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Rihad Variawa">

  
  
  
    
  
  <meta name="description" content="Understanding consumer behaviour">

  
  <link rel="alternate" hreflang="en-us" href="../../../project/retail_consumers/retail_consumers/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Playfair+Display:400,700|Fauna+One">
  

  <link rel="stylesheet" href="../../../styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-132898309-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="../../../site.webmanifest">
  <link rel="icon" type="image/png" href="../../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../img/icon-192.png">

  <link rel="canonical" href="../../../project/retail_consumers/retail_consumers/">

  
  
  
  
    
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@2series_rv">
  <meta property="twitter:creator" content="@2series_rv">
  
  <meta property="og:site_name" content="Rihad Variawa">
  <meta property="og:url" content="/project/retail_consumers/retail_consumers/">
  <meta property="og:title" content="Understanding Retail Consumers Behaviour | Rihad Variawa">
  <meta property="og:description" content="Understanding consumer behaviour"><meta property="og:image" content="/img/headers/sb.jpg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-04-11T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2019-04-11T00:00:00&#43;00:00">
  

  

  

  <title>Understanding Retail Consumers Behaviour | Rihad Variawa</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="../../../">Rihad Variawa</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#posts">
            
            <span>Blog Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="../../../#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article article-project" itemscope itemtype="http://schema.org/Article">

  









<div class="article-header">
  
  
  <img src="../../../img/headers/sb.jpg" class="article-banner" itemprop="image" alt="">
  

  
</div>




  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Understanding Retail Consumers Behaviour</h1>

  

  
    



<meta content="2019-04-11 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2019-04-11 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Apr 11, 2019</time>
  </span>
  

  

  

  
  
  <span class="middot-divider"></span>
  <a href="../../../project/retail_consumers/retail_consumers/#disqus_thread"></a>
  

  

  
    

  

</div>

    
















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      


<p>Clustering can be used for market segmentation, the idea of dividing airline passengers into small, more similar groups, and then designing a marketing strategy specifically for each group. In this analysis, I’ll see how this idea can be applied to <strong>retail consumer data.</strong></p>
<p>I’ll use the dataset Households.csv.xz, which contains data collected over two years for a group of 2,500 households. Each row (observation) in our dataset represents a unique household. The dataset contains the following variables:</p>
<ul>
<li>NumVisits = the number of times the household visited the retailer</li>
<li>AvgProdCount = the average number of products purchased per transaction</li>
<li>AvgDiscount = the average discount per transaction from coupon usage
(in %) - NOTE: Do not divide this value by 100!</li>
<li>AvgSalesValue = the average sales value per transaction</li>
<li>MorningPct = the percentage of visits in the morning (8am - 1:59pm)</li>
<li>AfternoonPct = the percentage of visits in the afternoon (2pm - 7:59pm)</li>
</ul>
<p>Note that some visits can occur outside of morning and afternoon hours. That is, visits from 8pm - 7:59am are possible.</p>
<p>This dataset was derived from source files provided by <strong>dunnhumby,</strong> a customer science company based in the UK.</p>
<div id="problem-1---reading-in-the-data" class="section level3">
<h3>Problem 1 - Reading in the data</h3>
<p>Read the dataset Households.csv.xz into R.</p>
<pre class="r"><code>HouseHolds &lt;- read.csv(&quot;Households.csv.xz&quot;)
str(HouseHolds)</code></pre>
<pre><code>&#39;data.frame&#39;:   2500 obs. of  6 variables:
 $ NumVisits    : int  86 45 47 30 40 250 59 113 20 9 ...
 $ AvgProdCount : num  20.08 15.87 19.62 10.03 5.55 ...
 $ AvgDiscount  : num  8.11 7.44 14.37 3.85 2.96 ...
 $ AvgSalesValue: num  50.4 43.4 56.5 40 19.5 ...
 $ MorningPct   : num  46.51 8.89 14.89 13.33 2.5 ...
 $ AfternoonPct : num  51.2 60 76.6 56.7 67.5 ...</code></pre>
<pre class="r"><code>summary(HouseHolds)</code></pre>
<pre><code>   NumVisits       AvgProdCount     AvgDiscount     AvgSalesValue    
 Min.   :   1.0   Min.   : 1.186   Min.   : 0.089   Min.   :  2.388  
 1st Qu.:  39.0   1st Qu.: 6.123   1st Qu.: 3.006   1st Qu.: 18.329  
 Median :  79.0   Median : 8.979   Median : 4.865   Median : 27.417  
 Mean   : 110.6   Mean   :10.291   Mean   : 5.713   Mean   : 31.621  
 3rd Qu.: 142.2   3rd Qu.:13.116   3rd Qu.: 7.327   3rd Qu.: 40.546  
 Max.   :1300.0   Max.   :56.600   Max.   :47.176   Max.   :165.829  
   MorningPct      AfternoonPct   
 Min.   :  0.00   Min.   :  0.00  
 1st Qu.: 16.67   1st Qu.: 42.20  
 Median : 26.09   Median : 52.00  
 Mean   : 28.73   Mean   : 51.45  
 3rd Qu.: 37.17   3rd Qu.: 61.29  
 Max.   :100.00   Max.   :100.00  </code></pre>
<pre class="r"><code>head(HouseHolds)</code></pre>
<pre><code>  NumVisits AvgProdCount AvgDiscount AvgSalesValue MorningPct AfternoonPct
1        86     20.08140    8.105116      50.35070  46.511628     51.16279
2        45     15.86667    7.444222      43.42978   8.888889     60.00000
3        47     19.61702   14.365106      56.45128  14.893617     76.59574
4        30     10.03333    3.855000      40.00367  13.333333     56.66667
5        40      5.55000    2.958250      19.47650   2.500000     67.50000
6       250      7.16400    3.313360      23.98464  25.600000     61.20000</code></pre>
<p>How many households have logged transactions at the retailer only in the morning?</p>
<pre class="r"><code>nrow(subset(HouseHolds, MorningPct == 100))</code></pre>
<pre><code>[1] 4</code></pre>
<p>How many households have logged transactions at the retailer only in the afternoon?</p>
<pre class="r"><code>nrow(subset(HouseHolds, AfternoonPct == 100))</code></pre>
<pre><code>[1] 13</code></pre>
</div>
<div id="problem-2---descriptive-statistics" class="section level3">
<h3>Problem 2 - Descriptive statistics</h3>
<p>Of the households that spend more than $150 per transaction on average, what is the minimum average discount per transaction?</p>
<pre class="r"><code>min(subset(HouseHolds, AvgSalesValue &gt; 150)$AvgDiscount)</code></pre>
<pre><code>[1] 15.64607</code></pre>
<p>Of the households who have an average discount per transaction greater than 25%, what is the minimum average sales value per transaction?</p>
<pre class="r"><code>min(subset(HouseHolds, AvgDiscount &gt; 25)$AvgSalesValue)</code></pre>
<pre><code>[1] 50.1175</code></pre>
<p>What proportion of households visited the retailer at least 300 times?</p>
<pre class="r"><code>nrow(subset(HouseHolds, NumVisits &gt;= 300)) / nrow(HouseHolds)</code></pre>
<pre><code>[1] 0.0592</code></pre>
</div>
<div id="problem-3---importance-of-normalizing" class="section level3">
<h3>Problem 3 - Importance of Normalizing</h3>
<p>When clustering data, its often important to normalize the variables so that they are all on the same scale.</p>
<p>If you clustered this dataset without normalizing, which variable would you expect to dominate in the distance calculations?</p>
<pre class="r"><code>summary(HouseHolds)</code></pre>
<pre><code>   NumVisits       AvgProdCount     AvgDiscount     AvgSalesValue    
 Min.   :   1.0   Min.   : 1.186   Min.   : 0.089   Min.   :  2.388  
 1st Qu.:  39.0   1st Qu.: 6.123   1st Qu.: 3.006   1st Qu.: 18.329  
 Median :  79.0   Median : 8.979   Median : 4.865   Median : 27.417  
 Mean   : 110.6   Mean   :10.291   Mean   : 5.713   Mean   : 31.621  
 3rd Qu.: 142.2   3rd Qu.:13.116   3rd Qu.: 7.327   3rd Qu.: 40.546  
 Max.   :1300.0   Max.   :56.600   Max.   :47.176   Max.   :165.829  
   MorningPct      AfternoonPct   
 Min.   :  0.00   Min.   :  0.00  
 1st Qu.: 16.67   1st Qu.: 42.20  
 Median : 26.09   Median : 52.00  
 Mean   : 28.73   Mean   : 51.45  
 3rd Qu.: 37.17   3rd Qu.: 61.29  
 Max.   :100.00   Max.   :100.00  </code></pre>
<div id="numvisits" class="section level4">
<h4>NumVisits</h4>
</div>
</div>
<div id="problem-4---normalizing-the-data" class="section level3">
<h3>Problem 4 - Normalizing the Data</h3>
<p>Normalize all of the variables in the dataset (Note that these codes assume that our dataset is called “Households”, and create the normalized dataset “HouseholdsNorm”. You can change the names to anything you want by editing the codes.)</p>
<pre class="r"><code>library(caret)</code></pre>
<pre><code>Loading required package: lattice</code></pre>
<pre><code>Loading required package: ggplot2</code></pre>
<pre class="r"><code>preproc &lt;- preProcess(HouseHolds)
HouseHoldsNorm &lt;- predict(preproc, HouseHolds)</code></pre>
<p>(Remember that for each variable, the normalization process subtracts the mean and divides by the standard deviation. In our normalized dataset, all of the variables should have mean 0 and standard deviation 1.</p>
<pre class="r"><code>summary(HouseHoldsNorm)</code></pre>
<pre><code>   NumVisits        AvgProdCount      AvgDiscount      AvgSalesValue    
 Min.   :-0.9475   Min.   :-1.5239   Min.   :-1.4010   Min.   :-1.5342  
 1st Qu.:-0.6190   1st Qu.:-0.6976   1st Qu.:-0.6743   1st Qu.:-0.6976  
 Median :-0.2731   Median :-0.2197   Median :-0.2112   Median :-0.2206  
 Mean   : 0.0000   Mean   : 0.0000   Mean   : 0.0000   Mean   : 0.0000  
 3rd Qu.: 0.2737   3rd Qu.: 0.4728   3rd Qu.: 0.4021   3rd Qu.: 0.4684  
 Max.   :10.2828   Max.   : 7.7500   Max.   :10.3293   Max.   : 7.0432  
   MorningPct       AfternoonPct     
 Min.   :-1.6779   Min.   :-3.22843  
 1st Qu.:-0.7047   1st Qu.:-0.58006  
 Median :-0.1546   Median : 0.03458  
 Mean   : 0.0000   Mean   : 0.00000  
 3rd Qu.: 0.4926   3rd Qu.: 0.61755  
 Max.   : 4.1617   Max.   : 3.04658  </code></pre>
<p>What is the maximum value of NumVisits in the normalized dataset?
#### 10.2828</p>
<p>What is the minimum value of AfternoonPct in the normalized dataset?
#### -3.22843</p>
<p>Create a dendrogram of our data:</p>
<pre class="r"><code>set.seed(200)
distances &lt;- dist(HouseHoldsNorm, method = &quot;euclidean&quot;)
ClusterShoppers &lt;- hclust(distances, method = &quot;ward.D&quot;)
plot(ClusterShoppers, labels = FALSE)</code></pre>
<p><img src="../../../project/retail_consumers/retail_consumers_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="problem-5---interpreting-the-dendrogram" class="section level3">
<h3>Problem 5 - Interpreting the Dendrogram</h3>
<p>Based on the dendrogram, how many clusters do you think would be appropriate for this problem?
#### 2, 3, 5</p>
</div>
<div id="problem-6---k-means-clustering" class="section level3">
<h3>Problem 6 - K-means Clustering</h3>
<p>Run the k-means clustering algorithm on our normalized dataset, selecting 10 clusters. Right before using the kmeans function, Remember “set.seed(200)”.</p>
<pre class="r"><code>set.seed(200)
k &lt;- 10
KMC &lt;- kmeans(HouseHoldsNorm, centers = k, iter.max = 1000)
str(KMC)</code></pre>
<pre><code>List of 9
 $ cluster     : int [1:2500] 7 3 1 3 5 6 1 1 3 8 ...
 $ centers     : num [1:10, 1:6] -0.248 -0.483 -0.234 -0.18 -0.246 ...
  ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. ..$ : chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
  .. ..$ : chr [1:6] &quot;NumVisits&quot; &quot;AvgProdCount&quot; &quot;AvgDiscount&quot; &quot;AvgSalesValue&quot; ...
 $ totss       : num 14994
 $ withinss    : num [1:10] 628 449 700 282 580 ...
 $ tot.withinss: num 4828
 $ betweenss   : num 10166
 $ size        : int [1:10] 246 51 490 118 504 226 141 284 52 388
 $ iter        : int 5
 $ ifault      : int 0
 - attr(*, &quot;class&quot;)= chr &quot;kmeans&quot;</code></pre>
<pre class="r"><code>kmeansGroups &lt;- KMC$cluster
table(kmeansGroups)</code></pre>
<pre><code>kmeansGroups
  1   2   3   4   5   6   7   8   9  10 
246  51 490 118 504 226 141 284  52 388 </code></pre>
<p>How many observations are in the smallest cluster?</p>
<pre class="r"><code>min(table(kmeansGroups))</code></pre>
<pre><code>[1] 51</code></pre>
<div id="section" class="section level4">
<h4>51</h4>
<p>How many observations are in the largest cluster?</p>
<pre class="r"><code>max(table(kmeansGroups))</code></pre>
<pre><code>[1] 504</code></pre>
</div>
<div id="section-1" class="section level4">
<h4>504</h4>
</div>
</div>
<div id="problem-7---understanding-the-clusters" class="section level3">
<h3>Problem 7 - Understanding the Clusters</h3>
<p>Now, use the cluster assignments from k-means clustering together with the cluster centroids to explore the next few questions.</p>
<pre class="r"><code>kmeans1 &lt;- subset(HouseHolds, kmeansGroups == 1)
kmeans2 &lt;- subset(HouseHolds, kmeansGroups == 2)
kmeans3 &lt;- subset(HouseHolds, kmeansGroups == 3)
kmeans4 &lt;- subset(HouseHolds, kmeansGroups == 4)
kmeans5 &lt;- subset(HouseHolds, kmeansGroups == 5)
kmeans6 &lt;- subset(HouseHolds, kmeansGroups == 6)
kmeans7 &lt;- subset(HouseHolds, kmeansGroups == 7)
kmeans8 &lt;- subset(HouseHolds, kmeansGroups == 8)
kmeans9 &lt;- subset(HouseHolds, kmeansGroups == 9)
kmeans10 &lt;- subset(HouseHolds, kmeansGroups == 10)

colMeans(kmeans1)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
     81.89431      19.11594      10.92924      59.49868      22.76746 
 AfternoonPct 
     61.93939 </code></pre>
<pre class="r"><code>colMeans(kmeans2)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
     54.70588      32.62351      19.65784      99.73684      32.15593 
 AfternoonPct 
     49.41508 </code></pre>
<pre class="r"><code>colMeans(kmeans3)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    83.508163     12.081068      6.881078     37.391552     25.609449 
 AfternoonPct 
    51.185788 </code></pre>
<pre class="r"><code>colMeans(kmeans4)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    89.788136      7.053082      3.877403     21.175564     71.391580 
 AfternoonPct 
    22.584436 </code></pre>
<pre class="r"><code>colMeans(kmeans5)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
     82.18254       5.89608       2.90764      17.51880      19.36659 
 AfternoonPct 
     55.03936 </code></pre>
<pre class="r"><code>colMeans(kmeans6)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
   281.796460      8.117065      4.297144     25.446228     29.851517 
 AfternoonPct 
    51.583481 </code></pre>
<pre class="r"><code>colMeans(kmeans7)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    99.886525     15.469831      9.343551     50.447122     53.462000 
 AfternoonPct 
    35.836861 </code></pre>
<pre class="r"><code>colMeans(kmeans8)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    80.288732      9.992614      5.288399     29.327693     13.350751 
 AfternoonPct 
    74.066827 </code></pre>
<pre class="r"><code>colMeans(kmeans9)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
   626.903846      5.203533      2.632325     16.278150     24.641085 
 AfternoonPct 
    48.731981 </code></pre>
<pre class="r"><code>colMeans(kmeans10)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    70.729381      6.479314      3.527893     19.688575     37.377204 
 AfternoonPct 
    38.916046 </code></pre>
<p>Which cluster best fits the description “morning shoppers stopping in to make a quick purchase”?
#### Cluster 4</p>
</div>
<div id="problem-8---understanding-the-clusters" class="section level3">
<h3>Problem 8 - Understanding the Clusters</h3>
<p>Which cluster best fits the description “shoppers with high average product count and high average value per visit”?
#### Cluster 2</p>
</div>
<div id="problem-9---understanding-the-clusters" class="section level3">
<h3>Problem 9 - Understanding the Clusters</h3>
<p>Which cluster best fits the description “frequent shoppers with low value per visit”?
#### Cluster 9</p>
</div>
<div id="problem-10---random-behavior" class="section level3">
<h3>Problem 10 - Random Behavior</h3>
<p>If we ran hierarchical clustering a second time without making any additional calls to set.seed, we would expect:
#### Identical results to the first hierarchical clustering</p>
<p>If we ran k-means clustering a second time without making any additional calls to set.seed, we would expect:
#### Different results from the first k-means clustering</p>
<p>If we ran k-means clustering a second time, again running the code set.seed(200) right before doing the clustering, we would expect:
#### Identical results to the first k-means clustering</p>
<p>If we ran k-means clustering a second time, running the code set.seed(100) right before doing the clustering, we would expect:
#### Different results from the first k-means clustering</p>
</div>
<div id="problem-11---the-number-of-clusters" class="section level3">
<h3>Problem 11 - The Number of Clusters</h3>
<p>Suppose the marketing department at the retail store decided that the 10 clusters were too specific, and they wanted more general clusters to describe the consumer base.</p>
<p>Would they want to increase or decrease the number of clusters?
#### Decrease the number of clusters</p>
</div>
<div id="problem-12---increasing-the-number-of-clusters" class="section level3">
<h3>Problem 12 - Increasing the Number of Clusters</h3>
<p>Run the k-means clustering algorithm again, this time selecting 5 clusters. Right before the “kmeans” function, set the random seed to 5000.</p>
<pre class="r"><code>set.seed(5000)
k &lt;- 5
KMC.5 &lt;- kmeans(HouseHoldsNorm, centers = k, iter.max = 1000)
str(KMC.5)</code></pre>
<pre><code>List of 9
 $ cluster     : int [1:2500] 5 5 1 5 2 2 5 5 5 2 ...
 $ centers     : num [1:5, 1:6] -0.398 -0.193 -0.169 2.695 -0.176 ...
  ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. ..$ : chr [1:5] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
  .. ..$ : chr [1:6] &quot;NumVisits&quot; &quot;AvgProdCount&quot; &quot;AvgDiscount&quot; &quot;AvgSalesValue&quot; ...
 $ totss       : num 14994
 $ withinss    : num [1:5] 1264 1838 1336 754 1604
 $ tot.withinss: num 6795
 $ betweenss   : num 8199
 $ size        : int [1:5] 182 994 428 172 724
 $ iter        : int 7
 $ ifault      : int 0
 - attr(*, &quot;class&quot;)= chr &quot;kmeans&quot;</code></pre>
<pre class="r"><code>kmeansGroups.5 &lt;- KMC.5$cluster
table(kmeansGroups.5)</code></pre>
<pre><code>kmeansGroups.5
  1   2   3   4   5 
182 994 428 172 724 </code></pre>
<p>How many observations are in the smallest cluster?</p>
<pre class="r"><code>min(table(kmeansGroups.5))</code></pre>
<pre><code>[1] 172</code></pre>
<div id="section-2" class="section level4">
<h4>172</h4>
<p>How many observations are in the largest cluster?</p>
<pre class="r"><code>max(table(kmeansGroups.5))</code></pre>
<pre><code>[1] 994</code></pre>
</div>
<div id="section-3" class="section level4">
<h4>994</h4>
</div>
</div>
<div id="problem-13---describing-the-clusters" class="section level3">
<h3>Problem 13 - Describing the Clusters</h3>
<p>Use the cluster assignments from k-means clustering with 5 clusters, which cluster best fits the description “frequent shoppers with low value per visit”?</p>
<pre class="r"><code>kmeans1.5 &lt;- subset(HouseHolds, kmeansGroups.5 == 1)
kmeans2.5 &lt;- subset(HouseHolds, kmeansGroups.5 == 2)
kmeans3.5 &lt;- subset(HouseHolds, kmeansGroups.5 == 3)
kmeans4.5 &lt;- subset(HouseHolds, kmeansGroups.5 == 4)
kmeans5.5 &lt;- subset(HouseHolds, kmeansGroups.5 == 5)

colMeans(kmeans1.5)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
     64.60989      24.47666      14.69849      76.09221      31.49236 
 AfternoonPct 
     53.37519 </code></pre>
<pre class="r"><code>colMeans(kmeans2.5)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    88.274648      6.573304      3.355126     19.679329     21.516913 
 AfternoonPct 
    53.900113 </code></pre>
<pre class="r"><code>colMeans(kmeans3.5)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    91.095794      8.541218      4.910884     26.956499     54.594773 
 AfternoonPct 
    32.958057 </code></pre>
<pre class="r"><code>colMeans(kmeans4.5)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
   422.273256      7.074807      3.710112     22.317813     27.386172 
 AfternoonPct 
    51.043708 </code></pre>
<pre class="r"><code>colMeans(kmeans5.5)</code></pre>
<pre><code>    NumVisits  AvgProdCount   AvgDiscount AvgSalesValue    MorningPct 
    90.276243     13.628410      7.640804     41.803608     22.980428 
 AfternoonPct 
    58.626883 </code></pre>
<div id="cluster-4" class="section level4">
<h4>Cluster 4</h4>
</div>
</div>
<div id="problem-14---understanding-centroids" class="section level3">
<h3>Problem 14 - Understanding Centroids</h3>
<p>Why do we typically use cluster centroids to describe the clusters?
#### The cluster centroid captures the average behavior in the cluster, and can be used to summarize the general pattern in the cluster.</p>
</div>
<div id="problem-15---using-a-visualization" class="section level3">
<h3>Problem 15 - Using a Visualization</h3>
<p>Which of the following visualizations could be used to observe the distribution of NumVisits, broken down by cluster?
#### - A box plot of the variable NumVisits, subdivided by cluster
#### - ggplot with NumVisits on the x-axis and the cluster number on the y-axis, plotting with geom_point()</p>
</div>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="../../../tags/r/">R</a>
  
  <a class="badge badge-light" href="">Data Analytics</a>
  
  <a class="badge badge-light" href="">Machine Learning</a>
  
</div>



    






  







<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  <img class="portrait mr-3" src="https://s.gravatar.com/avatar/4cc3711ee1bf14eef1b48a6703e86be8?s=200')" itemprop="image" alt="Avatar">
  

  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="../../../authors/admin">Rihad Variawa</a></h5>
    <h6 class="card-subtitle">Data Scientist</h6>
    <p class="card-text" itemprop="description">I am a Senior Data Scientist at Malastare AI and head of global Fintech Research, responsible for overall vision and strategy, investment priorities and offering development. Working in the financial services industry, helping clients adopt new technologies that can transform the way they transact and engage with their customers. I am passionate about data science, super inquisitive and challenge seeker; looking at everything through a lens of numbers and problem-solver at the core.</p>
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="../../../#contact" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://twitter.com/2series_rv" target="_blank" rel="noopener">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.freecodecamp.org/2series" target="_blank" rel="noopener">
          <i class="fab fa-free-code-camp"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.linkedin.com/in/rihad-variawa-7422017b" target="_blank" rel="noopener">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://malastare-ai.github.io/Malastare-Artificial-Intelligence/" target="_blank" rel="noopener">
          <i class="fab fa-grav"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.kaggle.com/" target="_blank" rel="noopener">
          <i class="fab fa-kaggle"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/2series" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://medium.com/@rihadvariawa/" target="_blank" rel="noopener">
          <i class="fab fa-medium-m"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.patreon.com/2series" target="_blank" rel="noopener">
          <i class="fab fa-patreon"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://rihadvariawa.blogspot.com/" target="_blank" rel="noopener">
          <i class="fab fa-blogger"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>




    
    

    
    
    

    
    
    

    
    
    

  </div>
</article>


<div class="article-container article-widget">
  <div class="post-nav">
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="../../../project/energy_patterns/energy_patterns/" rel="next">Patterns In Renewable Energy Generation</a>
  </div>
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="../../../project/visualizing_network/visualizing_network/" rel="prev">Network Data Visualizing</a>
  </div>
  
</div>

</div>


<div class="container">
  <footer class="site-footer">
  
  <p class="powered-by">
    <a href="../../../privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    &copy; 2020 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    
    <script src="../../../js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    
    <script id="dsq-count-scr" src="//2series.disqus.com/count.js" async></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="../../../js/academic.min.eeda67bb2d1f96265d85659d1edc7a5e.js"></script>

  </body>
</html>

